<% return unless @current_user.can?( :list, :pages          ) ||
                 @current_user.can?( :list, :page_templates ) %>

<%= component 'admin/menu/section',
    text: t( 'shiny_pages.admin.pages.menu' ), icon: 'list-rich' do %>

  <%= component 'admin/menu/item', link: shiny_pages.pages_path,
      text: t( 'shiny_pages.admin.pages.index.title' ), icon: 'list-rich',
      if: @current_user.can?( :list, :pages ) %>

  <%= component 'admin/menu/item', link: shiny_pages.new_page_path,
      text: t( 'shiny_pages.admin.pages.new.title' ), icon: 'playlist-add',
      if: @current_user.can?( :add, :pages ) %>

  <%= component 'admin/menu/item', link: shiny_pages.new_section_path,
      text: t( 'shiny_pages.admin.sections.new.title' ), icon: 'playlist-add',
      if: @current_user.can?( :add, :page_sections ) %>

  <%= component 'admin/menu/item', link: shiny_pages.templates_path,
      text: t( 'shiny_pages.admin.templates.index.title' ), icon: 'library',
      if: @current_user.can?( :list, :page_templates ) %>

  <%= component 'admin/menu/item', link: shiny_pages.new_template_path,
      text: t( 'shiny_pages.admin.templates.new.title' ), icon: 'library-add',
      if: @current_user.can?( :add, :page_templates ) %>

<% end %>
