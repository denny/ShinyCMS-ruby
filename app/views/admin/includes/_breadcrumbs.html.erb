<nav class="breadcrumbs">
  <ol class="breadcrumb border-0 m-0">
    <li class="breadcrumb-item"><%= link_to t( 'home'        ), root_path  %></li>
    <li class="breadcrumb-item"><%= link_to t( 'admin.title' ), admin_path %></li>

    <li class="breadcrumb-item">
      <% plugin_name = controller.class.name.split('::').first %>

      <%# Blazer %>
      <% if plugin_name == 'Blazer' %>
        <% @page_title = controller_name.titlecase %> <%# TODO: i18n %>
        <%= link_to t( 'admin.stats.title' ), blazer.root_path %>

      <%# TODO: FIXME: ShinyLists::Subscriptions bodge %>
      <% elsif plugin_name == 'ShinyLists' %>
        <%= link_to t( "shiny_lists.admin.lists.title" ), lists_path %>

      <%# ShinyCMS plugins %>
      <% elsif Plugin.loaded_names.include? plugin_name %>
        <%= link_to t( "#{plugin_name.underscore}.admin.#{controller_name}.title" ),
            ::Plugin.new( plugin_name ).admin_index_path( controller_name ) %>

      <%# ShinyCMS core features %>
      <% else %>
        <%= link_to t( "admin.#{controller_name}.title" ), controller: controller_name, action: :index %>

      <% end %>
    </li>

    <li class="breadcrumb-item active"><%= @page_title.titlecase %></li>
  </ol>
</nav>
